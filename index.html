<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Grmaster</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    </head>
  <body>
    <div class="container">
<h1>grmaster</h1>
<h2>License</h2>
<pre><code>grmaster - tool for dividing students into groups
Copyright (C) 2015  Lutov V. S. &lt;vslutov@yandex.ru&gt;

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
</code></pre>
<h2><a name="intro"></a>Введение</h2>
<p>Программа <code>grmaster</code> предназначена для удобного и быстрого распределения
студентов первого курса на группы с учетом их пожеланий и уровня английского.</p>
<p>Домашняя страница проекта: <a href="https://github.com/vslutov/grmaster">https://github.com/vslutov/grmaster</a></p>
<p>Программа писалась для факультета ВМК и учитывает его специфику.</p>
<ul>
<li>В каждой группе две английские подгруппы, которые могут быть как одного
  уровня знаний, так и разных.</li>
<li>Все английские подгруппы и академические группы примерно одинакового
  размера.</li>
<li>На каждом потоке свое количество групп, примерно одинакового размера.</li>
<li>Потоки принципиально ничем не отличаются (разве что, студент может захотеть
  на какой-то конкретный поток.</li>
</ul>
<p>Если у вас другие требования для распределения, то меняйте код программы так,
как вам нужно, в рамках соблюдения лицензии GNU AGPL. Подробнее о коде
читайте в разделе <a href="#for-programmers">для программистов</a>.</p>
<p>В случае возникновения проблем, пишите автору:
Владимир Лютов <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#118;&#115;&#108;&#117;&#116;&#111;&#118;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;">&#118;&#115;&#108;&#117;&#116;&#111;&#118;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;</a>.</p>
<h2>Быстрый старт</h2>
<p>Если не хотите заморачиваться с установкой - откройте эту ссылку
<a href="http://lutov.net/grmaster">http://lutov.net/grmaster</a> и переходите к
пункту <a href="#using">использование</a>.</p>
<p>Если вы по каким-то причинам, решили настроить свой сервер или запустить
приложение из консоли, то все равно прочитайте раздел
<a href="#using">использование</a>, а потом переходите в раздел
<a href="#for-programmers">для программистов</a>.</p>
<h2><a name="using"></a>Использование</h2>
<p>Итак, перед вами интерфейс веб-сервера, который обрабатывает информацию,
которую вы в него загрузите. Процесс автоматического распределения состоит из
4 шагов.</p>
<ol>
<li>Загрузка шаблона на ваш компьютер.</li>
<li>Добавление информации о студентах в шаблон (делается в табличном редакторе).</li>
<li>Загрузка данных на сервер для обработки.</li>
<li>Получение результата с сервера.</li>
</ol>
<p>Рассмотрим этот процесс по шагам.</p>
<h3>Загрузка шаблона</h3>
<p>Нажмите кнопку <code>Cкачать шаблон</code>.</p>
<h3>Добавление информации о студентах</h3>
<p>Шаблон - это табличный файл в формате
<a href="https://ru.wikipedia.org/wiki/CSV">.csv</a>. Редактировать его удобно табличным
редактором Microsoft Excel или LibreOffice Calc. Если у вас нет табличного
редактора, можете бесплатно загрузить офисный пакет LibreOffice с сайта
разработчика: <a href="https://www.libreoffice.org/download/libreoffice-fresh/">https://www.libreoffice.org/download/libreoffice-fresh/</a>.</p>
<p>Файл с информацией содержит (в порядке сверху-вниз):</p>
<ol>
<li>Настройки для <code>grmaster</code>.</li>
<li>Одна пустая строка.</li>
<li>Заголовок для таблицы студентов.</li>
<li>Таблица студентов.</li>
<li>Еще одна пустая строка.</li>
<li>Несколько дополнительных таблиц, разделенных одной строкой.</li>
</ol>
<p>Настройки можно менять так, как вам нужно - программа сама подстроится под
вас.</p>
<p>Доступные настройки:</p>
<ul>
<li><code>stream_sizes</code> - количество групп на потоке (набор чисел в разных столбцах
  таблицы)</li>
<li><code>english_header</code> - название столбца, в котором находится информация об
  уровне английского каждого студента</li>
<li><code>english_per_group</code> - количество английских подгрупп в одной группе</li>
<li><code>score_header</code> - название столбца с баллами студента</li>
<li><code>friends_table</code> - название таблицы со связями между студентами, которые
  хотят учиться в одной группе (об устройстве таблицы смотри далее)</li>
<li><code>stream_tables</code> - названия таблиц со списком студентов, хотящих попасть
  на каждый из потоков</li>
</ul>
<p>Пример таблицы можно скачать вместе с исходным кодом.
Файл называется example.csv.</p>
<p>В каждой таблице все столбцы должны быть подписаны в заголовке (первой
строке после пустой строки).</p>
<p>Первый столбец в каждой таблице - это полное имя студента. Должно быть
уникальным. Если на курсе есть полные тезки, снабдите их имена числовыми
идентификаторами.</p>
<p>Для таблицы студентов желательно указать их суммарный или средний балл.
Студенты с одним уровнем английского должны иметь одинаковые значения в
поле <code>english_header</code>.</p>
<p>Все дополнительные таблицы должны отделяться от предыдущей ровно одной
пустой строкой. У них должны быть название и заголовок.</p>
<p>Например:
<img alt="Разделение таблиц" src="img/table_division_example.png" /></p>
<p>Поддерживаемые таблицы:
- Таблица со списком пар студентов, которые хотят учиться в одной группе.
- Таблицы со списком студентов, желающих попасть на первый, второй и третий
  потоки. Таблицы могут быть пустыми, но заголовки лучше бы были.</p>
<p>Заполните этот файл в соответсвии с вашими потребностями.</p>
<h3>Загрузка данных на сервер</h3>
<p>После того, как вы добавили в шаблон нужную информацию, сохраните его в формате
<code>.csv</code> <strong>(ВАЖНО: <code>grmaster</code> понимает только этот формат, не пытайтесь
загрузить <code>.ods</code> или <code>.xlsx</code>, ничего хорошего у вас не получится)</strong>.</p>
<p>Загрузите готовую таблицу на сервер с помощью соответсвующего элемента
интерфейса.</p>
<h3>Получение результата</h3>
<p>Скачайте результат.</p>
<p>Поздравляем! Вы получили очень хорошее распределение по группам для студентов
первого курса. Возвращайтесь к нам через год и рекомендуйте это приложения
своим знакомым с других факультетов.</p>
<h2><a name="for-programmers"></a>Для программистов</h2>
<p>Итак, <code>grmaster</code> - это приложение на чистом python 3. Просто несколько файлов
с расширением <code>.py</code>, объединенные в одну папку.</p>
<h3>Зависимости</h3>
<ul>
<li>Flask</li>
<li>pytest</li>
</ul>
<h3>Как использовать?</h3>
<p>Есть два пути общения с вычислительным ядром программы.</p>
<ol>
<li><em>Рекомендуется</em> через браузер.</li>
<li>Через консоль команда <code>grmaster</code> предоставляет интуитивный интерфейс
   <code>grmaster help</code> для справки.</li>
</ol>
<h3>Как установить?</h3>
<p>Установка предполагает несколько взаимозаменяющих вариантов в зависимости от
того, чего вы хотите.</p>
<ol>
<li><em>Рекомендуется</em> установка с помощью <a href="https://www.docker.com/">Docker</a>.</li>
<li>Установка из pypi.</li>
<li>Установка из исходных кодов.</li>
</ol>
<p>Установка с помощью Docker удобна, если вы говорите на русском и кроме
веб-интерфейса на собственном сервере вам ничего не нужно.</p>
<ol>
<li>Установите Docker.</li>
<li><code>docker pull vslutov/grmaster</code></li>
<li><code>docker run -d -p [номер порта]:8000 vslutov/grmaster</code></li>
</ol>
<p>Установка из pypi удобна, если вам нужна обработка файлов в консоли или вы
не хотите использовать docker.</p>
<ol>
<li><code>pip install grmaster</code></li>
<li><code>grmaster test</code></li>
</ol>
<p>Установка из исходных кодов удобна, если вы хотите поменять настройки
сервера (порт, на котором он работает или язык).</p>
<ol>
<li>Скачайте репозиторий <a href="https://github.com/vslutov/grmaster">https://github.com/vslutov/grmaster</a>.</li>
<li><code>python setup.py develop</code> <strong>или</strong> <code>python setup.py install</code></li>
</ol>
<h3>Как перевести на новый язык?</h3>
<p>Просто переведите <code>grmaster/data/index.en.html</code> на ваш язык, сохраните в
формате <code>index.LANG.html</code> в ту же папку и поменяйте настройки в файле
<code>grmaster/setting.py</code>.</p>
<p>Сделайте, пожалуйста, после этого pull-request с переводом на github или
напишите автору письмо <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#118;&#115;&#108;&#117;&#116;&#111;&#118;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;">&#118;&#115;&#108;&#117;&#116;&#111;&#118;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;</a> с приложенным переводом,
чтобы вашими наработками могли пользоваться другие люди.</p>
<h3>Как добавить новый функционал?</h3>
<p>Посмотрите внимательно в файл <code>grmaster/rules.py</code>, там находятся
правила распределения. Меняйте текст программы так, как вам нужно и
делайте pull-request, я с радостью добавлю ваше улучшение в программу.</p>
<p>Хорошего вам дня!</p>    </div>
  </body>
</html>
